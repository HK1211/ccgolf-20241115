# 통합 코드 관리 설계 (shared_code_management.md)

## 개요
통합 코드 관리 시스템은 다양한 시스템과 업무의 코드 데이터를 하나의 구조로 관리하고 확장 가능한 구조를 통해 유연한 코드 관리와 속성 확장을 지원합니다.

이 설계는 공통 코드, 시스템 코드, 프로그램 코드, 메뉴 코드, 권한 코드 등을 계층적으로 관리할 수 있도록 설계되었으며, 필요 시 속성 테이블이나 상세 테이블을 통해 추가적인 정보를 관리할 수 있습니다.

## 1. SHARED_CODE_MANAGEMENT 테이블
통합 코드 관리의 중심 테이블로, 다양한 시스템과 업무에 걸쳐 공통 코드, 계층형 코드, 권한 코드 등을 일관성 있게 관리합니다.

### 주요 특징

- **계층 구조 관리:**
    - `PARENT_CODE` 컬럼을 통해 상위 코드와 하위 코드를 계층적으로 관리할 수 있습니다.
    - 이를 통해 시스템/업무 구분/업무 상세, 권한 그룹/권한, 프로그램/메뉴 등의 계층형 코드 구조를 통합하여 관리할 수 있습니다.

- **유일성 보장:**
    - `(CODE_TYPE, CODE)`의 유일성 제약 조건을 통해 코드 값의 중복을 방지합니다.

- **유효 기간 및 활성화 관리:**
    - `START_DATE`, `END_DATE`, `IS_ACTIVE` 컬럼을 통해 코드의 유효 기간과 활성화 상태를 관리할 수 있습니다.

- **확장 가능성:**
    - 코드의 상세 속성 정보가 필요한 경우, `SHARED_CODE_DETAIL_ATTRIBUTE_MANAGEMENT` 테이블을 통해 속성을 확장할 수 있습니다.

## 2. SHARED_CODE_DETAIL_ATTRIBUTE_MANAGEMENT 테이블
통합 코드의 상세 속성을 관리하기 위한 테이블로, 코드의 추가 속성 정보나 메타데이터를 유연하게 관리할 수 있습니다.

### 주요 특징

- **속성 확장:**
    - `ATTRIBUTE_CODE`, `ATTRIBUTE_NAME`, `ATTRIBUTE_DESCRIPTION` 컬럼을 사용하여 각 코드의 추가적인 속성을 정의할 수 있습니다.

- **유효 기간 및 활성화 관리:**
    - `START_DATE`, `END_DATE`, `IS_ACTIVE` 컬럼을 통해 속성의 유효 기간과 활성화 상태를 관리할 수 있습니다.

- **유일성 보장:**
    - `(SYSTEM_CODE, CODE_TYPE, CODE, ATTRIBUTE_CODE)`의 유일성 제약 조건을 통해 속성 값의 중복을 방지합니다.

### 해석 및 활용 방안
`SHARED_CODE_DETAIL_ATTRIBUTE_MANAGEMENT` 테이블은 특정 레코드에 대해 필요할 때 추가 속성을 삽입하는 데 유리합니다. 이는 속성의 수가 많거나, 속성의 유형이 자주 변경되는 경우에 유연하게 대응할 수 있습니다. 그러나 모든 코드에 일관된 추가 속성이 필요한 경우에는 별도의 상세 테이블을 생성하여 관리하는 것이 데이터의 일관성과 무결성을 유지하는 데 더 효과적입니다. 예를 들어, 모든 프로그램 코드에 공통적으로 적용되는 속성들이 있다면 `SHARED_CODE_PROGRAM_DETAILS`와 같은 상세 테이블을 사용하는 것이 적합합니다.

## 3. 상세 정보 관리 테이블
특정 코드의 상세한 정보를 관리하기 위해 별도의 상세 테이블을 추가할 수 있습니다. 예를 들어, 프로그램 상세 정보와 메뉴 상세 정보는 각각의 요구 사항에 맞춰 별도로 관리할 수 있습니다.

### 예시

- **프로그램 상세 정보 테이블 (`SHARED_CODE_PROGRAM_DETAILS`):**
    - 프로그램의 실행 경로, 파라미터, 설명 등의 정보를 관리할 수 있습니다.

- **메뉴 상세 정보 테이블 (`SHARED_CODE_MENU_DETAILS`):**
    - 메뉴의 경로, 계층 구조, 도움말 링크 등의 정보를 관리할 수 있습니다.

### 장점
- 상세 테이블을 사용하면 `SHARED_CODE_MANAGEMENT`의 기본 구조를 유지하면서, 특정 코드에 대해 추가적인 정보를 별도로 관리할 수 있습니다.
- 이를 통해 코드 관리의 일관성을 유지하면서도 다양한 요구 사항을 수용할 수 있습니다.

## 4. 설계의 장점

### 일관된 코드 관리
- 시스템별, 업무별, 계층형 코드 구조를 통합하여 관리할 수 있습니다.
- 다양한 유형의 코드를 일관된 구조로 관리할 수 있어 유지보수와 관리가 용이합니다.

### 확장성과 유연성
- `SHARED_CODE_DETAIL_ATTRIBUTE_MANAGEMENT`를 통해 코드 속성을 확장할 수 있어 다양한 비즈니스 요구 사항을 수용할 수 있습니다.
- 필요에 따라 상세 테이블을 추가하여 특정 코드의 상세 정보를 관리할 수 있습니다.
- **유연성 vs. 일관성:** `SHARED_CODE_DETAIL_ATTRIBUTE_MANAGEMENT`는 속성의 유연성을 제공하여 다양한 요구 사항을 수용할 수 있습니다. 이는 속성의 수가 많거나, 속성의 유형이 자주 변경되는 경우에 유리합니다. 반면, 일관된 속성 관리가 필요한 경우에는 상세 테이블을 사용하여 데이터의 일관성과 무결성을 유지할 수 있습니다.

### 데이터 무결성 보장
- 유일성 제약 조건과 유효 기간 관리 기능을 통해 코드 데이터의 무결성을 보장합니다.

### 효율적인 조회와 성능 최적화
- 인덱스를 통해 계층 구조, 유효 기간, 활성화 상태 등을 기반으로 효율적인 조회가 가능합니다.
- **성능 및 관리 측면:** `SHARED_CODE_DETAIL_ATTRIBUTE_MANAGEMENT` 테이블을 과도하게 사용하게 되면, 속성 관리가 복잡해질 수 있으며, 조회 성능에 영향을 미칠 수 있습니다. 반대로, 전용 상세 테이블을 사용하면 특정 속성에 대한 인덱싱과 최적화가 용이해져 성능 향상에 기여할 수 있습니다.

## 5. 테이블 설계 개요

| 테이블명                                   | 설명                                |
| ------------------------------------------ | ----------------------------------- |
| `SHARED_CODE_MANAGEMENT`                   | 통합 코드 관리 테이블               |
| `SHARED_CODE_DETAIL_ATTRIBUTE_MANAGEMENT`  | 코드 속성 관리 테이블               |
| `SHARED_CODE_PROGRAM_DETAILS`              | 프로그램 상세 정보 관리 테이블      |
| `SHARED_CODE_MENU_DETAILS`                 | 메뉴 상세 정보 관리 테이블          |
| `SHARED_CODE_PERMISSION_GROUP_RELATION`     | 권한 그룹과 권한의 관계 관리 테이블   |
| `SHARED_CODE_PERMISSION_GROUP_USER_RELATION`| 권한 그룹과 사용자의 관계 관리 테이블|

## 6. 확장 예시

### 시스템 코드 및 모듈 코드 예시

- **시스템 코드 (`SYSTEM_CODE`):**
    - IMS, LMS, TMS, TPS, GDS

- **모듈 코드 (`MODULE_CODE`):**
    - IMS-API, IMS-WEB, TPS-AOS, GDS-IOS

### 업무 구분 코드 및 상세 코드 예시

- **업무 구분 코드 (`BUSINESS_DIVISION`):**
    - ADMIN, SALES, SUPPORT

- **상세 업무 코드 (`DETAIL_DIVISION`):**
    - 기본코드관리, 메뉴프로그램관리, 권한관리

## 7. 결론
본 설계는 일관된 코드 관리, 유연한 확장성, 데이터 무결성을 제공하며, 다양한 시스템과 업무에서 발생하는 코드 관리 요구 사항을 통합하여 관리할 수 있는 강력한 구조를 제공합니다. 또한, `SHARED_CODE_DETAIL_ATTRIBUTE_MANAGEMENT` 테이블과 상세 정보 관리 테이블을 적절히 활용함으로써, 특정 레코드에 대한 유연한 속성 관리와 일관된 속성 관리의 균형을 맞출 수 있습니다. 이러한 접근 방식은 시스템의 유연성과 데이터의 일관성을 모두 충족시켜 효율적이고 유지보수하기 쉬운 코드 관리 시스템을 구축하는 데 기여합니다.
